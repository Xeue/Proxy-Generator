<!DOCTYPE html>
<html>
    <head>
        <title>Proxy Gen</title>
        <meta name="color-scheme" content="dark">
        <link type="text/css" rel="stylesheet" href="<%-static%>/lib/bootstrap.min.css">
        <link type="text/css" rel="stylesheet" href="<%-static%>/css/app.css">
        <link id="favicon_48" rel="icon" href="<%-static%>/img/icon/icon.svg" sizes="256x256">
        <script type="text/javascript">
            const version = '<%=version%>';
            const static = '<%=static%>';
            let firmware;
        </script>
        <script type="text/javascript" src="<%-static%>/lib/jquery-3.6.0.min.js"></script>
        <script type="text/javascript" src="<%-static%>/lib/bootstrap.min.js"></script>
        <script type="text/javascript" src="<%-static%>/lib/commonWS.js"></script>
        <script type="text/javascript" src="<%-static%>/js/app.js"></script>
    </head>
    <body class="<%-background%> overflow-hidden d-flex flex-column" id="body" data-bs-theme="dark">
        <nav class="drag navbar navbar-expand-lg navbar-dark bg-title px-2 pe-5 m-0">
            <a class="navbar-brand" href="#">
                <img src="../static/img/icon/icon.png" class="d-inline-block align-top" alt="" width="30" height="30">
                ProxyGen
            </a>
            <div class="m-auto">
                <button id="showSelect" class="btn btn-secondary">Home</button>
                <button id="showLogs" class="btn btn-secondary">Logs</button>
            </div>
        </nav>
        <main id="proxyCont" class="overflow-hidden h-100">
            <section id="categorySelect" class="tab h-100 overflow-auto">
                <div id="paramsCont" class="flex-grow-1 px-3 section d-flex flex-column h-100 pt-2">
                    <label for="paramURL" class="form-label">TFC URL</label>
                    <input class="form-control" type="text" id="paramURL" value="https://api.ukfly01.nepgroup.io">
                    <label for="paramAPI" class="form-label">TFC API Version</label>
                    <input class="form-control" type="text" id="paramAPI" value="v1/api">
                    <label for="paramToken" class="form-label">TFC auth token</label>
                    <textarea class="form-control mb-3" rows="3" type="text" id="paramToken">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IiQxIiwiY29udGV4dCI6ImRyaXZlciIsImV4cCI6MTc0ODEwNjgwNywiaWF0IjoxNzE2NTQ5MjA3LCJpc3MiOiJCcm9hZGNhc3QgRHJpdmVyIEpXVCBHZW5lcmF0b3IifQ.Th4ONcynqa_gFUTvYEFJ_TxA2qhE0znc7acjMuZREDo</textarea>
                    <button class="btn btn-primary float-end mb-3 mt-auto" type="button" id="paramsSet">Next</button>
                </div>
                <div id="categoryCont" class="d-none flex-grow-1 px-3 section d-flex flex-column h-100 pt-2">
                    <div class="input-group pt-2">
                        <input class="form-control" type="text" id="catagorySearch" placeholder="Catagory Name">
                        <button id="catagoryClear" class="btn btn-secondary search">Clear</span>
                    </div>
                    <div id="categoryList" class="d-flex flex-wrap gap-2 pt-2">

                    </div>
                    <button class="btn btn-primary float-end mb-3 mt-auto" type="button" id="categorySet">Next</button>
                </div>
                <div id="spigotsCont" class="d-none flex-grow-1 px-3 section d-flex flex-column h-100 pt-3 overflow-auto pb-5">
                    <div id="spigotsList" class="mb-2">

                    </div>
                    <button class="bottom-0 btn btn-primary mb-3 position-absolute" type="button" id="spigotSet" style="width: calc(100% - 2rem)">Generate Proxy</button>
                </div>
                <div id="xmlCont" class="d-none flex-grow-1 px-3 section d-flex flex-column h-100 pt-3 overflow-auto pb-5">
                    <div class="card">
                        <div class="align-items-center card-body d-flex flex-wrap gap-3 justify-content-between">
                            <div class="overflow-auto">
                                <span>Path to XML: </span>
                                <div id="xmlPath" class="user-select-all"></div>
                            </div>
                            <div>
                                <button class="btn btn-primary" id="openXml">Open File</button>
                                <button class="btn btn-primary" id="showXml">Show in Folder</button>
                            </div>
                        </div>
                    </div>
                    <div class="card mt-3 mb-4">
                        <div class="align-items-center card-header d-flex justify-content-between pe-2">Preview <button id="xmlPreviewCopy" type="button" class="btn btn-outline-primary btn-sm">Copy</button></div>
                        <pre class="card-body mb-0 user-select-all" lang="xml" id="xmlPreview"></pre>
                    </div>
                    <button class="bottom-0 btn btn-primary mb-3 position-absolute" type="button" id="reset" style="width: calc(100% - 2rem)">Make Another</button>
                </div>
            </section>
            <section id="logsTab" class="h-100 overflow-auto tab d-none">
                <menu id="logsFilter">
                    <input type="checkbox" id="core" checked>
                    <input type="checkbox" id="info" checked>
                    <input type="checkbox" id="debug" checked>
                    <input type="checkbox" id="warning" checked>
                    <input type="checkbox" id="error" checked>
                    <input type="checkbox" id="timestamp">
                    <input type="checkbox" id="level">
                    <input type="checkbox" id="catagory" checked>
                    <input type="checkbox" id="line">
                    <div class="greenLog">Core</div>
                    <div class="dimLog">Info</div>
                    <div class="cyanLog">Debug</div>
                    <div class="yellowLog">Warn</div>
                    <div class="redLog">Error</div>
                    <div>Times</div>
                    <div>Level</div>
                    <div>Type</div>
                    <div>Line</div>
                </menu>
                <div id="logs-cont">
                    <div id="logs"></div>
                </div>
            </section>
        </main>
    </body>
</html>